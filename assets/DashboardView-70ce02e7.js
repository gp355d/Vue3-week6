import{_ as p,r as d,o as a,c as h,a as e,d as c,w as r,b as k,f as l,j as f,F as $}from"./index-2efd955e.js";const{VITE_APP_URL:g}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{checkSuccess:!1}},methods:{logout(){document.cookie=`mytoken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)mytoken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=n;const o=this.$loading.show();this.$http.post(`${g}api/user/check`).then(t=>{t.data.success?(this.checkSuccess=!0,o.hide(),this.$router.push("/admin/products")):(alert(t.data.message),this.$router.push("/login"))}).catch(t=>{alert(t)})}},mounted(){this.checkLogin()}},w={key:0};function P(n,o,t,x,u,i){const s=d("router-link"),_=d("router-view");return a(),h($,null,[e(" 這是後台頁面 "),u.checkSuccess?(a(),h("div",w,[c(s,{to:"/admin"},{default:r(()=>[e("後台首頁")]),_:1}),e(" | "),c(s,{to:"/admin/products"},{default:r(()=>[e("商品管理")]),_:1}),e(" | "),c(s,{to:"/admin/orders"},{default:r(()=>[e("訂單管理")]),_:1}),e(" | "),c(s,{to:"/"},{default:r(()=>[e("回前台首頁")]),_:1}),e(" | "),k("a",{href:"#",onClick:o[0]||(o[0]=(...m)=>i.logout&&i.logout(...m))},"登出")])):l("",!0),u.checkSuccess?(a(),f(_,{key:1})):l("",!0)],64)}const A=p(V,[["render",P]]);export{A as default};
