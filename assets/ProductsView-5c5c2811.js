import{_ as p,r as m,o as a,c as n,a as r,b as t,F as d,e as g,t as P,d as b,w as f,f as V}from"./index-2efd955e.js";const{VITE_APP_URL:i,VITE_APP_PATH:u}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},$={data(){return{product:[],loadingItem:""}},methods:{getProducts(){const o=this.$loading.show();this.$http.get(`${i}/v2/api/${u}/products/all`).then(s=>{this.product=s.data.products,o.hide()}).catch(s=>{alert(s.response.data.message)})},addToCart(o){this.loadingItem=o+"1";const s={product_id:o,qty:1};this.$http.post(`${i}/v2/api/${u}/cart`,{data:s}).then(l=>{this.loadingItem="",alert("已將商品加入購物車！")}).catch(l=>{alert(l.response.data.message)})}},mounted(){this.getProducts()}},k={class:"table"},I=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"#"),t("th",{scope:"col"},"名稱"),t("th",{scope:"col"},"圖片"),t("th",{scope:"col"},"連結"),t("th",{scope:"col"},"功能")])],-1),T=t("th",{scope:"row"},"1",-1),y=["src"],E=["onClick","disabled"],w={key:0,class:"fas fa-spinner fa-pulse"};function A(o,s,l,C,c,h){const _=m("router-link");return a(),n(d,null,[r(" 這是產品列表 "),t("table",k,[I,t("tbody",null,[(a(!0),n(d,null,g(c.product,e=>(a(),n("tr",{key:e.id},[T,t("td",null,P(e.title),1),t("td",null,[t("img",{src:`${e.imageUrl}`,alt:"",width:"200"},null,8,y)]),t("td",null,[b(_,{to:`/product/${e.id}`,class:"btn btn-outline-secondary"},{default:f(()=>[r("連結")]),_:2},1032,["to"])]),t("td",null,[t("button",{type:"button",class:"btn btn-outline-primary",onClick:x=>h.addToCart(e.id),disabled:c.loadingItem===e.id+"1"},[r(" 加入購物車 "),c.loadingItem===e.id+"1"?(a(),n("i",w)):V("",!0)],8,E)])]))),128))])])],64)}const B=p($,[["render",A]]);export{B as default};
