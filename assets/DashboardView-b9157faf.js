import{_ as v,r as u,o as i,c as h,b as e,d as a,w as c,f as _,j as k,F as g,k as b,a as n}from"./index-73389829.js";const f="/Vue3-week6/assets/slogo-c250d158.svg",{VITE_APP_URL:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/",VITE_APP_PATH:"leo533",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{checkSuccess:!1}},methods:{logout(){document.cookie=`mytoken=; expires=${new Date};`,this.$router.push("/login")},checkLogin(){const l=document.cookie.replace(/(?:(?:^|.*;\s*)mytoken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=l;const s=this.$loading.show();this.$http.post(`${w}api/user/check`).then(t=>{t.data.success?(this.checkSuccess=!0,s.hide(),this.$router.push("/admin/products")):(alert(t.data.message),s.hide(),this.$router.push("/login"))}).catch(t=>{alert(t)})}},mounted(){this.checkLogin()}},x=b('<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap ps-3 shadow"><div class="col-md-3 col-lg-12 me-0"><a href="#"><img src="'+f+'" alt="" height="50"></a></div><button class="navbar-toggler position-absolute d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="true" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="navbar-nav"><div class="nav-item text-nowrap"></div></div></header>',1),$={class:"container-fluid"},P={class:"row"},y={key:0,id:"sidebarMenu",class:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse"},E={class:"position-sticky pt-3"},A={class:"nav flex-column"},S=e("h2",null,"請選擇功能",-1),T={class:"nav-item"},B={class:"nav-item"},D={class:"nav-item"},L={class:"nav-item"},N={class:"nav-item"},C={class:"nav-item"};function M(l,s,t,R,r,d){const o=u("router-link"),m=u("router-view");return i(),h(g,null,[x,e("div",$,[e("div",P,[r.checkSuccess?(i(),h("nav",y,[e("div",E,[e("ul",A,[S,e("li",T,[a(o,{class:"nav-link",to:"/admin/products"},{default:c(()=>[n("商品管理")]),_:1})]),e("li",B,[a(o,{class:"nav-link",to:"/admin/orders"},{default:c(()=>[n("訂單管理")]),_:1})]),e("li",D,[a(o,{class:"nav-link",to:"/admin/coupons"},{default:c(()=>[n("優惠券管理")]),_:1})]),e("li",L,[a(o,{class:"nav-link",to:"/admin/articles"},{default:c(()=>[n("文章管理")]),_:1})]),e("li",N,[a(o,{class:"nav-link",to:"/"},{default:c(()=>[n("回前台首頁")]),_:1})]),e("li",C,[e("a",{class:"nav-link",href:"#",onClick:s[0]||(s[0]=(...p)=>d.logout&&d.logout(...p))},"登出")])])])])):_("",!0),r.checkSuccess?(i(),k(m,{key:1})):_("",!0)])])],64)}const U=v(V,[["render",M]]);export{U as default};
